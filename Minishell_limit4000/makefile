# Nom de l'ex√©cutable
NAME = minishell

# R√©pertoire contenant les sources

# Librairies √† lier
LIBS = -lreadline

# Fichiers source
SRC = minishell.c \
      utils.c \
      shell_exec.c \
      parsing_pipe.c \
      tokenize.c \
      utilshelp.c \
      free.c \
      env.c \
      builtin.c \
	  ft_split.c \
	  builtin_help.c \
	  parsing_help.c \
	  init.c

# Fichiers objets g√©n√©r√©s automatiquement
OBJ = $(SRC:.c=.o)

# Compilateur et options
CC = cc -g
CFLAGS = -Wall -Wextra -Werror
RM = rm -f

# Cible par d√©faut
all: $(NAME)

# Compilation de l'ex√©cutable
$(NAME): $(OBJ)
	@echo "üî® Linking $(NAME)..."
	$(CC) $(CFLAGS) $(OBJ) -o $(NAME) $(LIBS)

# R√®gle g√©n√©rique pour compiler les .o
%.o: %.c
	@echo "üíª Compiling $<"
	$(CC) $(CFLAGS) -c $< -o $@

# Nettoyage des fichiers objets
clean:
	@echo "üßπ Cleaning object files..."
	$(RM) $(OBJ)

# Nettoyage complet
fclean: clean
	@echo "üßº Cleaning executable..."
	$(RM) $(NAME)

# Rebuild complet
re: fclean all
